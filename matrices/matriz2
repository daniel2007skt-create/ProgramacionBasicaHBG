#include <stdio.h>
#include <stdlib.h>

int main() {
    int n, i, j;
    int sumaPares = 0, sumaImpares = 0;
    int sumaPosPares = 0, sumaPosImpares = 0;
    int contPares = 0, contImpares = 0;
    int contPosPares = 0, contPosImpares = 0;

    printf("Ingrese la dimension de la matriz: ");
    scanf("%d", &n);

    int matriz[n][n];

    for(i = 0; i < n; i++) {
        for(j = 0; j < n; j++) {
            printf("Ingrese el valor en la posicion [%d][%d]: ", i, j);
            scanf("%d", &matriz[i][j]);
        }
    }

    for(i = 0; i < n; i++) {
        for(j = 0; j < n; j++) {
            if(matriz[i][j] % 2 == 0) {
                sumaPares += matriz[i][j];
                contPares++;
            } else {
                sumaImpares += matriz[i][j];
                contImpares++;
            }

            if((i + j) % 2 == 0) {
                sumaPosPares += matriz[i][j];
                contPosPares++;
            } else {
                sumaPosImpares += matriz[i][j];
                contPosImpares++;
            }
        }
    }

    float mediaPares = (contPares > 0) ? (float)sumaPares / contPares : 0;
    float mediaImpares = (contImpares > 0) ? (float)sumaImpares / contImpares : 0;
    float mediaPosPares = (contPosPares > 0) ? (float)sumaPosPares / contPosPares : 0;
    float mediaPosImpares = (contPosImpares > 0) ? (float)sumaPosImpares / contPosImpares : 0;

    printf("\nSuma de numeros pares: %d", sumaPares);
    printf("\nMedia de numeros pares: %.2f", mediaPares);

    printf("\nSuma de numeros impares: %d", sumaImpares);
    printf("\nMedia de numeros impares: %.2f", mediaImpares);

    printf("\nSuma de numeros en posiciones pares: %d", sumaPosPares);
    printf("\nMedia de numeros en posiciones pares: %.2f", mediaPosPares);

    printf("\nSuma de numeros en posiciones impares: %d", sumaPosImpares);
    printf("\nMedia de numeros en posiciones impares: %.2f\n", mediaPosImpares);

    return 0;
}
